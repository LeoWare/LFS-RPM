
This build tracks linux from scratch version 7.5

This build system requires the following:
	Partition for LFS under build,	mounted at /mnt/lfs
	Fetch build system from https://www.github.com/baho-utot/LFS-RPM
	
	This system was designed and debugged on an AMD64 {x86_64} system and
	I have not tested it on a i686 system as I no longer have or use such
	systems.  I have tried to keep it compatable with i686 but I may have
	missed some thing, so you may need to address some issues with 
	building/using this system.  Also there is no current configuration
	file for i686 and you will need to provide that
	
	You will need some understanding of shell scripting as you will
	need to alter some of the parameters in these scripts.

Notes:
	This build system uses su.
	If you don't want to enter the root password on every step then
	you can temporary modify /etc/passwd and remove the x in the
	root user entry.
	sed -i 's/root:x/root:/' /etc/passwd
	
	The build system installs to /mnt/lfs/usr/src/Octothorpe

WARNING:
	This build system can trash your host.  

The script to build LFS has changed

Edit config.inc to suit your system

Build Procedure goes as follows:
	
command to run			These are just comments don't enter these
------------------------------	----------------------------------------- 
./mk-fetch			fetch all the source packages
su -c ./mk-filesystem		create filesystem on partition
su -c ./mk-mount		mount partition
su -c './mk-user'		creates lfs user
su -c './mk-copy'		copies build
su - 				switch to root user
su - lfs			switch to lfs user
cd ${LFS}/usr/src/Octothorpe	goto build directory
./mk-tools			build tool chain
exit				lfs user
exit				root user
su -c './mk-chroot'		create chroot system and chroot
cd /usr/src/Octothorpe
./mk-lfs			build chapter 6
./mk-config			configure new system
exit
su -c './mk-umount'		unmount /mnt/lfs
su -c './mk-rmuser'		remove lfs user from host


Run multiple steps:

su -c './mk-filesystem && mk-mount && ./mk-user && ./mk-copy'
su - -c 'su - lfs'
cd ${LFS}/usr/src/Octothorpe
./mk-tools
exit
exit
su -c './mk-chroot'
cd /usr/src/Octothorpe
./mk-lfs && ./mk-config
exit
su -c './mk-umount && ./mk-rmuser'

install grub 			if needed
create grub/grub.cfg in /boot	add the LFS menu entry
Installing grub:

Notes:
	This is one way to install grub,
	You will need to edit the set root=(hdx,x) and
	root=/dev/sdxx lines to suit.
	If you don't have a boot partition you will need to
	change: linux /vmlinuz-<VERSION> root=/dev/sdxx ro
	to:	linux /boot/vmlinux-<VERSION> root=/dev/sdxx> ro

	grub-install --force --boot-directory=/mnt/lfs/boot /dev/sda

	cat > /boot/grub/grub.cfg << "EOF"
	# Begin /boot/grub/grub.cfg
	set default=0
	set timeout=5

	menuentry "GNU/Linux Linux from scratch" {
		insmod ext2
		set root=(hdx,x)
		linux /vmlinuz-<VERSION> root=</dev/sdxx ro
	 }
	# 	Uncomment this if you have Win what-ever installed
	#	change set root=(hdx,x) to where you have win installed
	#	set root=(hd0,1) usually
 	#menuentry "Windows" {
	#	insmod ntfs
	#	set root=(hdx,x)
	#	chainloader +1
	# }
	# End /boot/grub/grub.cfg
	 EOF

Post setup:
	reboot		- reboot and run
	login root
	passwd		- set root password

This completes the build.